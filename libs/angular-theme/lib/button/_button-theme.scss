// @use '@angular/material' as mat;
@use '@finastra/fds-theme/color' as color;
@use '@finastra/fds-theme/typography' as typography;
@use '../core/theming/color-utility' as utility;

@mixin theme($theme: null) {
  .mdc-button.mat-mdc-button-base {
    &[mat-stroked-button] {
      &.mat-primary {
        border-color: var(--fds-outline-info);
      }

      &.mat-accent {
        border-color: utility.get-color-from-token(secondary, 0.5);
      }

      &.mat-error {
        border-color: var(--fds-outline-error);
      }

      &.mat-success {
        border-color: var(--fds-outline-success);
      }

      &[disabled] {
        background-color: var(--fds-surface-disabled);
        border-color: var(--fds-on-surface-disabled);
      }
    }

    &[mat-flat-button] {
      &.mat-error {
        background-color: var(--fds-error);
        color: var(--fds-on-error);
      }
      &.mat-success {
        background-color: var(--fds-success);
        color: var(--fds-on-success);
      }
    }

    &.mat-error {
      color: var(--fds-error);

      .mdc-button__ripple::before {
        background-color: var(--fds-error);
      }
    }

    &.mat-success {
      color: var(--fds-success);

      .mdc-button__ripple::before {
        background-color: var(--fds-success);
      }
    }

    // .mat-flat-button,
    // .mat-raised-button,
    // .mat-fab,
    // .mat-mini-fab {
    //   &.mat-primary,
    //   &.mat-accent
    //     {
    //     & .mat-ripple-element {
    //       // since the use of CSS variables,
    //       // opacity is already set on rgba background-color.
    //       // see #288
    //       opacity: 0.1;
    //     }
    //   }

    //   &.cdk-keyboard-focused {
    //     &.mat-primary .mdc-button__ripple::before {
    //       background: palette.get-color-from-palette($primary, default-contrast);
    //       opacity: 0.24;
    //     }

    //     &.mat-accent .mdc-button__ripple::before {
    //       background: palette.get-color-from-palette($accent, default-contrast);
    //       opacity: 0.24;
    //     }

    //     &.mat-gradient .mdc-button__ripple::before {
    //       background: palette.get-color-from-palette($primary, default-contrast);
    //       opacity: 0.24;
    //     }

    //     &.mat-success .mdc-button__ripple::before {
    //       background: palette.get-color-from-palette($success, default-contrast);
    //       opacity: 0.24;
    //     }
    //   }
    // }

    // .mat-icon-button {
    //   &.mat-neutral,
    //   &.mat-gradient {
    //     .mat-button-ripple {
    //       color: palette.get-color-from-palette($primary, default);
    //     }
    //   }

    //   &.mat-neutral {
    //     .mat-icon {
    //       color: palette.get-color-from-palette($foreground, text, 0.75);
    //     }
    //   }

    //   &.mat-gradient {
    //     .mat-icon {
    //       background: palette.get-color-from-palette(palette.$uxg-gradient, vertical);
    //       background-clip: text;
    //       -webkit-text-fill-color: transparent;
    //     }
    //   }
    // }
  }

  .mat-mdc-fab.mat-gradient {
    @include color.background(gradient-vertical);
    @include color.color(on-gradient);
  }
}

@mixin typography($config: null) {
  button[dense],
  a[dense],
  *[dense] button {
    @include typography.typography('button-3');
  }

  button[large],
  a[large],
  *[large] button {
    @include typography.typography('button-1');
  }
}
